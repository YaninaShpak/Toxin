(()=>{"use strict";let e=document.querySelector(".calendar"),t=document.querySelectorAll(".button-dropdown--calendar"),n=e.querySelector(".button-activity__apply--calendar"),a=e.querySelector(".button-activity__cleanup--calendar"),r=new Date,c=r.getMonth(),l=r.getFullYear();const d=document.querySelectorAll(".calendar__date-number"),o=document.querySelector(".calendar__previous"),u=document.querySelector(".calendar__next"),s=document.querySelector(".calendar__month"),i={0:"Январь",1:"Февраль",2:"Март",3:"Апрель",4:"Май",5:"Июнь",6:"Июль",7:"Август",8:"Сентябрь",9:"Октябрь",10:"Ноябрь",11:"Декабрь"};let _=document.getElementById("date-in"),m=document.getElementById("date-out"),v=document.querySelector("input[name=arrival-date]");t.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e.classList.toggle("hidden")}))})),function(t=0){const r=(e,t)=>{const n=new Date(t,e+1,0).getDate();let a=new Date(t,e).getDay();0===a&&(a=7),s.innerText=`${i[e]} ${t}`,d.forEach(((r,c)=>{const l=c+1-a;r.innerText=l>-1&&l<n?l+1:"";const d=new Date;d.getMonth()===e&&d.getFullYear()===t&&d.getDate()===c+1-(a-1)?r.classList.add("calendar__date-number--today"):r.classList.remove("calendar__date-number--today")}))},g=()=>{i[c]=2===c||7===c?i[c]+"а":i[c].slice(0,-1)+"я"},y=()=>{d.forEach((e=>{e.classList.remove("calendar__date-number--current"),e.classList.remove("calendar__date-number--in-range")}))};o.addEventListener("click",(e=>{e.preventDefault(),0===c?(c=11,l--):c--,r(c,l),g(),y()})),u.addEventListener("click",(e=>{e.preventDefault(),11===c?(c=0,l++):c++,r(c,l),g(),y()})),r(c,l);let L=Array.from(d);d.forEach((e=>{e.addEventListener("click",(function(){let n;function a(e){return n[e].textContent.length<2?"0"+n[e].textContent:n[e].textContent}g(),document.querySelectorAll(".calendar__date-number--current").length>1&&(d.forEach((e=>{e.classList.remove("calendar__date-number--current")})),d.forEach((e=>{e.classList.remove("calendar__date-number--in-range")}))),e.classList.add("calendar__date-number--current"),n=document.querySelectorAll(".calendar__date-number--current");let r=(c+1).toString().length<2?"0"+(c+1).toString():(c+1).toString();if(0===t?_.value=`${a(0)}.${r}.${l}`:v.value=`${a(0)} ${i[c].toLowerCase()}`,n.length>1){let e=L.indexOf(n[0]),o=L.indexOf(n[1]);for(e=L.indexOf(n[0]);e<o-1;e++)d[e+1].classList.add("calendar__date-number--in-range");n[0].classList.add("calendar__date-number--start"),n[1].classList.add("calendar__date-number--end"),0===t?m.value=`${a(1)}.${r}.${l}`:v.value=v.value+" - "+a(1)+" "+i[c].toLowerCase()}}))})),n.addEventListener("click",(()=>{e.classList.add("hidden")})),a.addEventListener("click",(()=>{0===t?(_.value="",m.value=""):v.value="",y()}))}(0)})();